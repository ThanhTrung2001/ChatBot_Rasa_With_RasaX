version: "2.0"

stories:

- story: greet and buy pizza
  steps:
  - intent: greet
  - action: utter_greet
  - action: action_show_pizza_types
  - intent: choose_pizza_type
  - action: action_show_pizza_from_type
  - intent: choose_pizza
  - action: action_show_pizza_detail
  - action: action_show_pizza_size
  - intent: choose_pizza_size
  - action: utter_ask_if_want_topping
  - checkpoint: check_asked_if_want_topping

- story: user affirm for topping
  steps:
  - checkpoint: check_asked_if_want_topping
  - intent: affirm
  - action: action_show_pizza_toppings
  - intent: choose_topping
  - action: utter_pizza_info

- story: user deny topping
  steps:
  - checkpoint: check_asked_if_want_topping
  - intent: deny
  - action: utter_pizza_info
  
- story: user ask for drink
  steps:
  - intent: ask_for_drink
  - action: action_show_drink_options

- story: user ask for check information
  steps:
  - intent: review_customer
  - action: utter_review

- story: ask user information
  steps:
  - intent: fill_information
  - action: customer_info_form
  - active_loop: customer_info_form
  - slot_was_set: 
    - customer_name: trung
  - action: utter_ask_customer_name # ask for name
  - intent: user_give_name_info
  - slot_was_set: 
    - requested_slot: customer_name
  - slot_was_set: 
    - customer_phone: 0123456789
  - action: utter_ask_customer_phonenumber # ask for phone number
  - intent: user_give_phone_info
  - slot_was_set: 
    - requested_slot: customer_phone
  - slot_was_set: 
    - customer_address: Quan1 TPHCM
  - action: utter_ask_customer_address # ask for address
  - intent: user_give_address_info
  - slot_was_set: 
    - requested_slot: customer_address
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_review
  
  # - action: utter_ask_customer_phonenumber
  # - action: customer_phone_form
  # - active_loop: customer_phone_form
  # - slot_was_set: 
  #   - requested_slot: customer_phone
  # - slot_was_set: 
  #   - requested_slot: 0123456789
  # - slot_was_set:
  #   - requested_slot: null
  # - active_loop: null
  # - action: utter_ask_customer_address
  # - action: customer_address_form
  # - active_loop: customer_address_form
  # - slot_was_set: 
  #   - requested_slot: customer_address
  # - slot_was_set: 
  #   - requested_slot: 12 quan7 hcm
  # - slot_was_set:
  #   - requested_slot: null
  # - active_loop: null
